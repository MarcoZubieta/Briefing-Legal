<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Briefing Interactivo | Gestor de Investigaci√≥n Legal</title>
  <!-- Google Fonts: Poppins -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome for Icons -->
  <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>

  <style>
    :root {
      --bg-main: #0a0a0a;
      --bg-surface: #1a1a1a;
      --primary-color: #03dac6;
      --secondary-color: #bb86fc;
      --gold-color: #FFD700;
      --glow-color: rgba(255, 215, 0, 0.5);
      --text-main: #FFFFFF;
      --text-secondary: #B3B3B3;
      --border-color-base: #2c2c2c;
    }

    /* General Body Styling */
    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--bg-main);
      color: var(--text-main);
      padding: 2rem 1rem;
      line-height: 1.6;
    }

    /* Main Container for the Form */
    .container {
      max-width: 900px;
      margin: auto;
      background-color: var(--bg-surface);
      padding: 2.5rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      border: 1px solid var(--border-color-base);
      overflow: hidden;
    }

    /* Header Section */
    header {
      text-align: center;
      margin-bottom: 2.5rem;
      border-bottom: 1px solid var(--border-color-base);
      padding-bottom: 1.5rem;
    }

    h1 {
      font-weight: 700;
      color: var(--primary-color);
      font-size: 2.2rem;
      margin-bottom: 0.5rem;
    }

    header p {
      font-size: 1rem;
      color: var(--text-secondary);
      max-width: 700px;
      margin: auto;
    }

    /* Fieldset for grouping questions */
    fieldset {
      border: 1px solid var(--gold-color);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2.5rem;
      transition: all 0.3s ease;
    }
    
    fieldset:hover {
      box-shadow: 0 0 15px var(--glow-color);
    }

    /* Legend for Fieldset Title */
    legend {
      font-weight: 600;
      font-size: 1.3rem;
      color: var(--gold-color);
      padding: 0 0.8rem;
      margin-left: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    /* Label for each option */
    label {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
      padding: 0.8rem;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      font-weight: 300;
      position: relative;
      overflow: hidden;
    }
    
    label strong {
        color: var(--primary-color);
        font-weight: 600;
    }

    /* Custom Radio and Checkbox Styling */
    input[type="radio"],
    input[type="checkbox"] {
      -webkit-appearance: none;
      appearance: none;
      background-color: var(--bg-main);
      margin-right: 1rem;
      font: inherit;
      color: var(--primary-color);
      width: 1.5em;
      height: 1.5em;
      border: 0.15em solid var(--primary-color);
      border-radius: 50%;
      transform: translateY(-0.075em);
      display: grid;
      place-content: center;
      cursor: pointer;
      flex-shrink: 0;
      z-index: 1;
    }
    
    input[type="checkbox"] {
      border-radius: 0.3em;
    }

    input[type="radio"]::before {
      content: "";
      width: 0.8em;
      height: 0.8em;
      border-radius: 50%;
      transform: scale(0);
      transition: 120ms transform ease-in-out;
      box-shadow: inset 1em 1em var(--primary-color);
    }
    
    input[type="checkbox"]::before {
      content: "";
      width: 0.8em;
      height: 0.8em;
      transform: scale(0);
      transition: 120ms transform ease-in-out;
      box-shadow: inset 1em 1em var(--primary-color);
      background-color: CanvasText; /* For checkmark color */
      transform-origin: bottom left;
      clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
    }

    input[type="radio"]:checked::before,
    input[type="checkbox"]:checked::before {
      transform: scale(1);
    }

    /* Helper text for options */
    .option-description {
        color: var(--text-secondary);
        font-size: 0.85rem;
        margin-left: 1rem;
        margin-top: -0.8rem;
        margin-bottom: 1rem;
        padding-left: 1rem;
    }
    
    .section-intro, .question-title {
        color: var(--text-secondary);
        font-size: 0.95rem;
        margin-bottom: 1.5rem;
        padding-left: 0.5rem;
    }
     .question-title {
        font-weight: 600;
        color: var(--text-main);
        margin-bottom: 1rem;
     }
    
    /* Styles for MVP option cards */
    .option-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .option-card {
        padding: 1.5rem;
        border: 1px solid var(--border-color-base);
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    .option-card:hover,
    .option-card:has(input:checked) {
       border-color: var(--gold-color);
       box-shadow: 0 0 20px -5px var(--glow-color);
    }

    .card-content {
        z-index: 1;
    }

    .card-content h4 {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--primary-color);
        margin-top: 0;
        margin-bottom: 0.5rem;
    }

    .card-content p {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 1rem;
    }

    .card-content ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    .card-content ul li {
        font-size: 0.9rem;
        margin-bottom: 0.25rem;
        position: relative;
        padding-left: 1.2rem;
    }

    .card-content ul li::before {
        content: '‚úì';
        color: var(--primary-color);
        position: absolute;
        left: 0;
        font-weight: bold;
    }

    /* Additional Comments Textarea */
    textarea {
        width: 100%;
        background-color: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--border-color-base);
        border-radius: 6px;
        padding: 1rem;
        color: var(--text-main);
        font-family: 'Poppins', sans-serif;
        font-size: 1rem;
        min-height: 250px;
        resize: vertical;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    textarea:focus {
        outline: none;
        border-color: var(--gold-color);
        box-shadow: 0 0 15px -5px var(--glow-color);
    }

    /* Action Buttons Container */
    .actions-container {
        margin-top: 2.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .actions-container button {
        background: linear-gradient(90deg, var(--primary-color), var(--gold-color));
        color: #000;
        padding: 1rem;
        border: none;
        border-radius: 8px;
        font-size: 1.2rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .actions-container button:hover {
        box-shadow: 0 0 20px var(--gold-color);
        transform: translateY(-3px);
    }
    
    .export-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
    }

    .export-buttons button {
        background: transparent;
        border: 2px solid var(--gold-color);
        color: var(--gold-color);
        font-size: 0.9rem;
        font-weight: 600;
        padding: 0.5rem 1rem;
        letter-spacing: 0.5px;
    }

     .export-buttons button:hover {
        background: var(--gold-color);
        color: var(--bg-surface);
        box-shadow: 0 0 15px var(--gold-color);
     }
    
    #statusMessage {
        text-align: center;
        margin-top: 1rem;
        min-height: 20px;
        color: var(--primary-color);
        transition: opacity 0.3s ease;
    }
    
    /* Closing signature */
    .closing-signature {
        text-align: center;
        margin-top: 4rem;
        padding-top: 2rem;
        border-top: 1px solid var(--border-color-base);
        color: var(--text-secondary);
    }
    .closing-signature p {
        margin: 0.5rem 0;
    }
    .closing-signature strong {
        color: var(--text-main);
        font-weight: 600;
    }
    
  </style>
</head>
<body>

  <div class="container">
    <header>
      <h1>Briefing: Gestor de Investigaci√≥n Legal</h1>
      <p>Este formulario nos ayudar√° a definir con precisi√≥n el alcance del proyecto. Por favor, seleccione la opci√≥n que mejor se ajuste a sus necesidades para esta primera etapa del desarrollo.</p>
    </header>

    <form id="briefingForm">
    
      <!-- PARTE 1: NECESIDADES DEL PROYECTO -->
      <fieldset>
          <legend>üéØ 1. Enfoque Estrat√©gico del Proyecto</legend>
          <p class="section-intro">Esta es la decisi√≥n m√°s importante. ¬øCu√°l de estos conceptos describe mejor la herramienta que necesita? (Puede seleccionar varios).</p>
          <div class="option-container">
            <label class="option-card"><input type="checkbox" name="project_purpose" value="repository"> <div class="card-content"><h4>Opci√≥n A: Repositorio de Evidencia.</h4><p>El objetivo es organizar y resguardar notas y pruebas (PDFs, im√°genes, etc.), conect√°ndolas de forma segura.</p></div></label>
            <label class="option-card"><input type="checkbox" name="project_purpose" value="investigation_platform"> <div class="card-content"><h4>Opci√≥n B: Plataforma de Investigaci√≥n Activa (OSINT).</h4><p>El objetivo es que la app sea el punto de partida de la investigaci√≥n, incorporando metodolog√≠as para recopilar y analizar informaci√≥n de forma segura.</p></div></label>
            <label class="option-card"><input type="checkbox" name="project_purpose" value="ai_augmented_platform"> <div class="card-content"><h4>Opci√≥n C: Plataforma de Investigaci√≥n Aumentada por IA.</h4><p>Un entorno cognitivo donde una IA asiste al investigador, analiza evidencia y se conecta a bases de datos, funcionando de forma local y segura.</p></div></label>
          </div>

          <p class="question-title" style="margin-top: 2rem;">¬øEn qu√© √°mbito(s) legal(es) se utilizar√° principalmente la aplicaci√≥n?</p>
           <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                <label><input type="checkbox" name="legal_field" value="penal"> Penal</label>
                <label><input type="checkbox" name="legal_field" value="civil"> Civil</label>
                <label><input type="checkbox" name="legal_field" value="comercial"> Comercial</label>
                <label><input type="checkbox" name="legal_field" value="empresarial"> Empresarial / Corporativo</label>
                <label><input type="checkbox" name="legal_field" value="privado"> Investigaci√≥n Privada</label>
                <label><input type="checkbox" name="legal_field" value="otro"> Otro</label>
           </div>
      </fieldset>

      <fieldset>
        <legend>üõ†Ô∏è 2. Prioridades Funcionales y T√©cnicas</legend>
        <p class="section-intro">Sus respuestas aqu√≠ nos ayudar√°n a elegir la mejor tecnolog√≠a y a definir las caracter√≠sticas clave.</p>

        <p class="question-title">üß† An√°lisis Avanzado de Evidencia (IA y Multimedia)</p>
        <label><input type="checkbox" name="ai_features" value="ocr"> <strong>OCR:</strong> Extraer texto autom√°ticamente de documentos escaneados e im√°genes.</label>
        <label><input type="checkbox" name="ai_features" value="audio_analytics"> <strong>An√°lisis de Audio:</strong> Transcribir grabaciones de audio a texto y, opcionalmente, identificar hablantes.</label>
        <label><input type="checkbox" name="ai_features" value="computer_vision"> <strong>Visi√≥n por Computador:</strong> Analizar im√°genes/videos para detectar objetos, personas o matr√≠culas.</label>
        <label><input type="checkbox" name="ai_features" value="rag_legal"> <strong>IA Jur√≠dica (RAG):</strong> Integrar un asistente tipo chat que responda preguntas bas√°ndose en la documentaci√≥n del caso y bases de datos legales, funcionando de forma 100% offline.</label>
        <label><input type="checkbox" name="ai_features" value="db_connect"> <strong>Conexi√≥n a BD Externas:</strong> Conectar la aplicaci√≥n a bases de datos de jurisprudencia o registros p√∫blicos.</label>
        
        <p class="question-title">üõ°Ô∏è Capacidades de Investigaci√≥n y Seguridad</p>
        <label><input type="radio" name="cross_analysis" value="required" required> <strong>An√°lisis Cruzado:</strong> S√ç, es clave poder crear v√≠nculos entre pruebas (personas, lugares) para mostrar un mapa de relaciones.</label>
        <label><input type="radio" name="cross_analysis" value="not_required" required> <strong>An√°lisis Cruzado:</strong> NO, no es una prioridad para el MVP.</label>
        <br>
        <label><input type="radio" name="chain_of_custody" value="required" required> <strong>Cadena de Custodia:</strong> S√ç, es indispensable registrar de forma inalterable la obtenci√≥n de cada prueba para garantizar su validez judicial.</label>
        <label><input type="radio" name="chain_of_custody" value="not_required" required> <strong>Cadena de Custodia:</strong> NO, un registro simple es suficiente por ahora.</label>

        <p class="question-title">üß© Arquitectura y Crecimiento Futuro</p>
        <label><input type="radio" name="architecture_model" value="modular_plugins" required> <strong>Arquitectura Modular (Plugins):</strong> Prefiero una aplicaci√≥n base s√≥lida que pueda crecer en el futuro a√±adiendo nuevas funcionalidades como "plugins" de pago. Esto me permite empezar con una inversi√≥n controlada y pagar solo por lo que necesito, cuando lo necesito.</label>
        <label><input type="radio" name="architecture_model" value="monolithic" required> <strong>Aplicaci√≥n Monol√≠tica:</strong> Prefiero que todas las funcionalidades posibles se incluyan en el desarrollo inicial, aunque la inversi√≥n sea mayor al principio.</label>
      </fieldset>
      
      <!-- PARTE 2: CONTEXTO DEL NEGOCIO -->
      <fieldset>
          <legend>üè¢ 3. Sobre su Empresa y Proyecto</legend>
          <p class="question-title">¬øCu√°l de las siguientes opciones describe mejor a su empresa?</p>
          <label><input type="radio" name="company_size" value="startup" required> Emprendedor individual / Startup (1-5 personas).</label>
          <label><input type="radio" name="company_size" value="pyme" required> Peque√±a o mediana empresa (PYME) (6-50 personas).</label>
          <label><input type="radio" name="company_size" value="large_corp" required> Empresa grande o corporaci√≥n (+50 personas).</label>
      </fieldset>

      <fieldset>
          <legend>üöÄ 4. Alcance, Plazos e Inversi√≥n</legend>
          <p class="section-intro">Ahora que conocemos las necesidades, definamos el marco de nuestra colaboraci√≥n.</p>

          <p class="question-title">En base a sus necesidades, ¬øqu√© alcance de MVP considera m√°s adecuado?</p>
          <div class="option-container">
              <label class="option-card"><input type="radio" name="mvp_scope" value="esencial" required><div class="card-content"><h4>Opci√≥n 1: MVP Esencial</h4><p>Para validar la idea al menor coste.</p><ul><li>Funciones b√°sicas de repositorio</li><li>Seguridad est√°ndar</li></ul></div></label>
              <label class="option-card"><input type="radio" name="mvp_scope" value="balanceado" required><div class="card-content"><h4>Opci√≥n 2: MVP OSINT</h4><p>Herramienta de investigaci√≥n activa.</p><ul><li>Funciones OSINT</li><li>Encriptaci√≥n y Cadena de Custodia</li></ul></div></label>
              <label class="option-card"><input type="radio" name="mvp_scope" value="avanzado" required><div class="card-content"><h4>Opci√≥n 3: MVP con IA</h4><p>Plataforma cognitiva de vanguardia.</p><ul><li>Todas las funciones OSINT + IA (OCR, RAG)</li></ul></div></label>
          </div>
          <br>
          <p class="question-title">Nuestro modelo de trabajo ideal es Part-Time por 3-6 meses. ¬øSe alinea esto con su visi√≥n?</p>
          <label><input type="radio" name="collaboration_model" value="part_time_3m" required> S√ç: Una colaboraci√≥n Part-Time (20h/sem) por 3-6 meses es ideal.</label>
          <label><input type="radio" name="collaboration_model" value="full_time_short" required> NO: Necesitamos un proyecto Full-Time de corta duraci√≥n (1-3 meses).</label>

          <p class="question-title">Finalmente, para alinear la soluci√≥n con la inversi√≥n, ¬øqu√© rango considera para esta fase?</p>
          <label><input type="radio" name="budget_range" value="range_a" required> Rango A (&lt; $5,000 USD)</label>
          <label><input type="radio" name="budget_range" value="range_b" required> Rango B ($5,000 - $15,000 USD)</label>
          <label><input type="radio" name="budget_range" value="range_c" required> Rango C (&gt; $15,000 USD)</label>
      </fieldset>
      
      <fieldset>
        <legend>üíé 5. Estilo Visual y Comentarios Finales</legend>
        <p class="question-title">¬øConsidera que el estilo visual de este mismo briefing (moderno, oscuro, con acentos dorados) es una buena base para el dise√±o de la aplicaci√≥n final?</p>
        <label class="option-card"><input type="radio" name="visual_style" value="like_briefing" required><div class="card-content"> S√ç: Me gusta este estilo y lo podemos usar como una excelente referencia.</div></label>
        <label class="option-card"><input type="radio" name="visual_style" value="traditional" required><div class="card-content"> PREFIERO OTRO: Me gustar√≠a un estilo m√°s tradicional y sobrio (ej. tonos grises, blancos).</div></label>
        <label class="option-card"><input type="radio" name="visual_style" value="open_to_proposals" required><div class="card-content"> ABIERTO: Estoy abierto a otras propuestas de dise√±o que puedas presentar.</div></label>

        <p class="question-title" style="margin-top: 2rem;">Comentarios Adicionales</p>
        <p class="option-description">Si hay alg√∫n aspecto importante que no hayamos cubierto, por favor, det√°llelo aqu√≠.</p>
        <textarea name="additional_comments" placeholder="Escriba aqu√≠ sus comentarios..."></textarea>
      </fieldset>


      <!-- Action Buttons -->
      <div class="actions-container">
          <button type="button" id="githubSubmitButton">Confirmar y Enviar Briefing</button>
          
          <div class="export-buttons">
              <button type="button" id="exportJsonButton">Exportar a JSON</button>
              <button type="button" id="exportTxtButton">Exportar a TXT</button>
          </div>
          <div id="statusMessage"></div>
      </div>
    </form>

    <div class="closing-signature">
        <p>Muchas gracias por invitarnos a realizar este trabajo.</p>
        <p>Estamos seguros de que nuestra previa experiencia con Legalnet y nuestro conocimiento actual en Gesti√≥n de Conocimiento e Inteligencia Artificial ser√°n de gran aporte para su proyecto.</p>
        <p>Atentamente,</p>
        <br>
        <p><strong>Marco Zubieta</strong></p>
        <p>Director CTO, Symbiosis Research</p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
        const form = document.getElementById('briefingForm');
        const statusMessage = document.getElementById('statusMessage');
        
        // --- IMPORTANT: Replace with your actual Google Apps Script Web App URL ---
        const googleScriptUrl = 'https://script.google.com/macros/s/AKfycbwfIkrw1JSXv3FpnX3W0qSNKrH6GsTxnM9tfWY0riVFDgDO6LzOmNJr6ZzYn10h0R8-/exec';

        // --- Data Collection Function ---
        function getFormData() {
            const data = {};
            // Process radio buttons
            form.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
                data[radio.name] = radio.value;
            });
            // Process checkboxes
            const checkboxGroups = {};
            form.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                if (!checkboxGroups[cb.name]) checkboxGroups[cb.name] = [];
                if (cb.checked) checkboxGroups[cb.name].push(cb.value);
            });
            Object.keys(checkboxGroups).forEach(groupName => {
                data[groupName] = checkboxGroups[groupName].length > 0 ? checkboxGroups[groupName] : false;
            });
            // Process textarea
            const comments = form.querySelector('textarea[name="additional_comments"]');
            if (comments) data.additional_comments = comments.value;
            return data;
        }

        // --- Validation Function ---
        function validateRequiredFields() {
            // Checkbox groups can be optional, so we only validate radio buttons
            const requiredRadioGroups = [
                'cross_analysis', 'chain_of_custody', 
                'architecture_model', 'company_size', 'mvp_scope',
                'collaboration_model', 'budget_range', 'visual_style'
            ];
             // The first question group is now checkbox, so it's not strictly required to select one.
             // We can add a check if we want at least one to be selected.
            if (!form.querySelector('input[name="project_purpose"]:checked')) {
                 statusMessage.style.color = '#ff6b6b';
                 statusMessage.textContent = `Por favor, complete la secci√≥n: "üéØ 1. Enfoque Estrat√©gico del Proyecto"`;
                 return false;
            }

            for (const groupName of requiredRadioGroups) {
                if (!form.querySelector(`input[name="${groupName}"]:checked`)) {
                    const fieldset = form.querySelector(`input[name="${groupName}"]`).closest('fieldset');
                    if (fieldset) {
                       const legend = fieldset.querySelector('legend').textContent;
                       statusMessage.style.color = '#ff6b6b';
                       statusMessage.textContent = `Por favor, complete la secci√≥n: "${legend}"`;
                       return false;
                    }
                }
            }
            statusMessage.textContent = '';
            return true;
        }

        // --- Main GitHub Submit Button ---
        document.getElementById('githubSubmitButton').addEventListener('click', function() {
            if (!validateRequiredFields()) return;
            
            if (googleScriptUrl === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE') {
                statusMessage.style.color = '#ff6b6b';
                statusMessage.textContent = 'Error: La URL de Google Apps Script no est√° configurada en el HTML.';
                return;
            }

            const button = this;
            const originalText = button.textContent;
            button.textContent = 'Enviando...';
            button.disabled = true;
            statusMessage.style.color = 'var(--primary-color)';
            statusMessage.textContent = 'Procesando y enviando briefing...';
            
            const data = getFormData();
            
            fetch(googleScriptUrl, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify(data)
            })
            .then(res => { 
                statusMessage.textContent = '‚úÖ Su briefing ha sido enviado.';
                statusMessage.style.color = 'var(--primary-color)';
                form.reset();
            })
            .catch(error => {
                console.error('Error en fetch:', error);
                statusMessage.textContent = '‚ùå Error de red al enviar. Revise la consola (F12).';
                statusMessage.style.color = '#ff6b6b';
            })
            .finally(() => {
                button.textContent = originalText;
                button.disabled = false;
                setTimeout(() => {
                    statusMessage.textContent = '';
                }, 6000);
            });
        });

        // --- Export Buttons Logic ---
        document.getElementById('exportJsonButton').addEventListener('click', function() {
            if (!validateRequiredFields()) { return; }
            const data = getFormData();
            downloadFile(JSON.stringify(data, null, 2), 'briefing-respuestas.json', 'application/json');
        });

        document.getElementById('exportTxtButton').addEventListener('click', function() {
            if (!validateRequiredFields()) { return; }
            const data = getFormData();
            let txtContent = "Respuestas del Briefing - Gestor Legal\n=========================================\n\n";
            for (const key in data) {
                let formattedKey = key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                let formattedValue = Array.isArray(data[key]) ? data[key].join(', ') : (data[key] || 'No seleccionado');
                txtContent += `${formattedKey}: ${formattedValue}\n`;
            }
            downloadFile(txtContent, 'briefing-respuestas.txt', 'text/plain');
        });

        function downloadFile(content, fileName, contentType) {
            const a = document.createElement('a');
            const file = new Blob([content], { type: contentType });
            a.href = URL.createObjectURL(file);
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(a.href);
        }
    });
  </script>
</body>
</html>
